MySQL中的表结构分为`表字段`、`字段数据类型`、`字段属性`三部分。创建表就是对这三部分的设置

![表结构_2020_12_22](https://gitee.com/ghongxiang/picture/raw/master/编程/database/表结构_2020_12_22.png)

## 数据类型

![数据类型_2020_12_22](https://gitee.com/ghongxiang/picture/raw/master/编程/database/数据类型_2020_12_22.png)

`数据类型分为三大类：数值型、字符串型、日期时间型。`

### 1.数值型

#### 整数型

- tinyint(微整型)：1个字节存储数据，最大值255
- smallint(小整型)：2个字节存储数据 ，最大值65535
- mediumint(中整型)：3个字节存储数据
- `int(标准整型)`：4个字节存储数据
- bigint(大整型)：8个字节存储数据

|整数类型|字节|有符号数范围|无符号数范围|
| :---: | :---: | --- | :---: |
|tinyint|1|-127~128|0~255|
|smallint|2|-32768~32767|0~65535|
|mediumint|3|-8388608~8388607|0~1677215|
|int|4|-2147483648~2147483647|0~4294967295|
|bigint|8|-9223372036854775808~9223372036854775807|0~18446744073709551615|

`数据库默认的存储整型的方式是有符号数`

给表添加一个使用无符号数存储整型的字段
```
alter table table_name add 字段名 整型 unsigned; 
```

添加0填充 zerofill
```
alter table  table_name add 字段名 整型 zerofill;
```


#### 小数型

带有小数点的数据类型或者超出整形范围数都是小数型。

小数型又分为浮点型和定点型。

**浮点型**

浮点型又分为单精度（float）和双精度（double）

**float(单精度)**：使用4个字节存储数据，精度的范围大概在6位左右。小数点会浮动，精度有限，而且可能会丢失精度。

创建float类型字段

1. 直接使用float创建：数据按照自己的精度进行存储
2. 使用float（M,D）方式创建(非典型用法)：小数位是D位，整数位是M-D位。小数位与整数位的总和是M

**double(双精度)**：使用8个字节存储数据，精度的范围大概在16位左右。

**定点型(decimal)**
- 小数点固定，精度比较高，不会丢失精度。
- 存储有效范围与double一致。精度由M和D共同决定
- 默认是一个整数。整数位是10位，小数位是0位
- 保存小数的最大有效范围是30位。

**基本用法是decimal(M,D)**，使用M+2个字节存储数据


### 2.字符串型

#### char

- 固定长度字符串，创建数据库表的时候规定好数据的长度。char(L):L 表示长度，单位是字符。char的最大长度是255
- char的最大存储长度255*3 = 765个字节(utf8编码的文字的时候，一个中文时3个字节)

#### varchar

- 变长长度，在数据表定义的时候，指定的长度就是数据的最大长度，数据开辟的空间是按照最大的长度开辟的。实际占用的长度是按照实际字符串长度占用的空间来计算的，多余的部分回收。
- varchar(L)： L表示长度。表示的是定义的时候的长度，不是实际占用的长度。如果一个字符串达不到实际开辟的长度,就会按照实际的长度进行调整。
- varchar默认的最大长度是65535个字符。
- 注意： varchar的类型除了要保存数据的实际内容之外，还需要使用1-2个字符的空间去保存数据的长度。

如果在实际开发中一个字符串超过了255个字符，那么既不会用char类型也不会使用varchar类型，而是使用text类型。

#### 文本类型(text/blob)

若字符串的长度超过了255个字符就使用文本类型的数据格式存储。

文本类型的数据格式按照存储的数据的格式分为两类：

1. **text存储字符串格式的数据**

2. blob存储二进制格式的数据（通常不用）

文本类型不占用数据记录的空间，而是占用ibdata1文件空间。

#### enum(枚举)

- 类似于HTML里面的radio(单选框)
- 将有可能使用到的数据都定义好，在使用的时候只能从定义好的数据里面选取，如果是使用没有定义的数据会产生错误。
- **enum类型的数据在MySQL中实际使用int类型存储**，可节约空间
- 预先定义好的数据类型能够保证数据格式统一规范。


#### set(集合)

- 类似于HTML中的多选框(CheckBox)
- set使用二进制数字进行存储，每一个值都是一个二进制位。


### 3.日期时间型


|类型|取值范围| 存储空间 |零值|
| :---: | :---: | --- | :---: |
|date|1000-01-01~9999-12-31|3字节|0000-00-00|
|time|-838.59.59~838.59.59|3字节|00:00:00|
| <span style="color:red;">**datetime**</span> |1001-01-01 00:00:00~9999-12-31 23:59:59|8字节|0000-00-00 00:00:00|
| <span style="color:red;">**timestamp**</span> |1970-01-01 00:00:00~2038-01-19 03:14:07|4字节|0000-00-00 00:00:00|
|year| <span style="color:red;">4位:1901-2155</span>，2位:70-69|1字节  |000|


####  datetime

- 格式： YYYY-MM-dd HH：ii：ss
- 表示的范围 1000-01-01 00:00:00   到  9999-12-31 23:59:59
- 可省略分隔符，但不能省略前导0。比如01不能为1
- now(): mysql内部的时间函数，能够获取当前时间。

```
insert into table_name values(now());
```

#### date

日期格式 ，相当于datetime的日期部分

#### timestamp(时间戳)

- 格式上与datetime格式完全一致
- 数据的存储形式上使用4个字节的int来存储。

#### time

表示的是一天中的时间，也可以表示时间段。

#### year

两种格式

- year(4):  XXXX 范围：1901-2155年  默认的是这个格式
- year(2),  XX 范围：1970-2069年。如果（00-69）表示 2000-2069，如果（70-99）表示 1970-1999

**注意：**在实际开发过程中，如果是一个不需要进行处理的时间格式，那么就使用datetime格式进行存储

如果需要进行时间计算一般用int存储为一个事件的格式。再用PHP获取到时间之后用PHP时间函数进行数据处理time()、date()