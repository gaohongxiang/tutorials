[大话 go 语言：谈谈 go 语言的类型系统](https://baijiahao.baidu.com/s?id=1595603374138052032&wfr=spider&for=pc)

[关于类型系统和类型推导的一些科普（1）](https://my.oschina.net/zhanzhongs/blog/867284)

[Go语言的类型系统 - 翻译](https://studygolang.com/articles/12887?fr=sidebar)

[你好，类型（系列文章）](https://zhuanlan.zhihu.com/p/34669807)

[弱类型、强类型、动态类型、静态类型语言的区别是什么？](https://www.zhihu.com/question/19918532/answer/21647195)

在编程的世界里，我们需要处理好两件事
第一件事是编程语言中的类型问题。
第二件事是对真实世界中业务代码的抽象、重用和封装。

>编程语言本质上帮助程序员屏蔽底层机器代码的实现，而让我们更加关注于业务逻辑代码。但是因为编程语言作为机器代码和业务逻辑的粘合层，是让程序员可以控制更多底层的灵活性，还是屏蔽底层细节，让程序员更多关注业务逻辑，这是很难两全的事。
所以，不同的语言在设计上都会做相应的取舍。比如：C语言偏向于让程序员可以控制更多的底层细节，而Java、Python等则让程序员更多的关注业务的实现。而C++则两者都想要，导致语言在设计上的复杂性。

## 类型系统简介与作用

程序语言需要提供类型，是因为用它编写的程序要解决的问题会涉及多种多样的数据。类型可以确认一个值或者一组值具有特定的意义和目的（虽然某些类型，如抽象类型和函数类型，在程序运行中，可能不表示为值）。

`类型是对内存的抽象，不同的类型会有不同的内存布局和内存分配策略。`

`类型带来的问题是相同的功能因为类型的不同，需要重复写针对不同类型的代码。当然，这个问题可以使用泛型来解决。`

类型系统用于定义如何将编程语言中的数值和表达式归类为许多不同的类型，如何操作这些类型，这些类型如何互相作用。

类型系统的出现主要是对容易混乱的操作加上严格的限制，以避免代码以无效的数据使用方法编译或运行。例如：整数运算不可以作用于字符串；指针操作不可用于整数上等等。

当我们看待一门编程语言的时候，言必谈之类型系统（type system）。它到底是静态类型的（static typing），还是动态类型的（dynamic typing），是显式类型的（explicit typing），还是隐式类型的（implicit typing）。类型检查（type check）是较强的（stronger），还是较弱的（weaker）。它是否支持高阶类型（high-order type），是否支持递归类型（recusive type），是否支持子类型（subtype），是否支持多态（polymorphism）。

类型系统在各种语言之间有非常大的不同，也许，最主要的差异存在于编译时期的语法，以及运行时期的操作实现方式。

>`根据类型检查的时机，编程语言分为静态类型和动态类型。静态类型又分为显示类型和隐式类型。`

>`根据类型检查的严格程度，编程语言分为强类型和弱类型。强弱是相对的。`

## 静态类型 VS 动态类型

#### 静态类型
静态类型指的是编译器在编译期间（compile time）执行类型检查，即`编译时确定类型`。在声明了一个变量之后，一般不能改变它的类型（当然弱类型的静态语言可以强制类型转换和隐式类型转换，这个详见强弱类型部分）。使用数据之前，必须先声明数据类型（int ,float,double等）。相当于使用之前首先要为它们分配好内存空间。

##### 显式类型 VS 隐式类型

静态类型可以分为两种：

如果类型是语言语法的一部分，是显式类型（explicitly typed）。比如：C语言需要明确的指定int a，int b这样的变量类型

如果类型通过编译时推导，是隐式类型（implicity typed）, 比如Ocaml和Haskell，就不用明确的写出来，而是编译时推导出来的。


#### 动态类型

动态类型指的是编译器（虚拟机）在运行期间（runtime）执行类型检查，即`运行时确定类型`。能够随时改变它的类型（一般需要运行时虚拟机支持）。

动态类型语言必然有一堆诸如is_array()、is_int()、is_string()、typeof()这样的运行时类型检查函数。

#### 两者比较

类型检查时机的区别

静态类型指的是编译器在编译期间执行类型检查（因为类型错误而不能做的事情是语法错误）。编译的时候编译器就知道每一个变量的类型，可以产生优化过后的机器码，`运行速度快`。

动态类型指的是编译器（虚拟机）在运行期间执行类型检查（因为类型错误而不能做的事情是运行时错误）。编译器和解译器减少进行检查，并减少解析代码，编译器和解译器可以更快速的运作。从而减少编辑－编译－测试－除错的周期，`开发效率高`。但由于无法提前发现类型问题，不可控因素大，当代码量大了之后，由于类型问题出错的情况比较多。

读写代码难易度的区别

静态类型一般需要写明类型，因此写代码时会写的多一些，另外时不时需要做类型转换，而C++这种甚至能给你4种cast。但是读代码的时候就比较容易看出来变更的类型，类型+变量名基本就能确定含义了。`写难读易`

动态类型一般不需要写明类型，动态类型推导省掉了写时显示申明类型的麻烦，写代码时轻松些。但是读代码时就稍累了，不容易明确含义，而且有些一直要到运行时才给检查，灵活是灵活了，万一写错了不运行到就不会知道。`写易读难`

## 强类型 VS 弱类型

弱/强类型指的是语言类型系统的类型检查的严格程度

弱类型相对于强类型来说类型检查更不严格，比如说允许隐式类型转换，允许强制类型转换等等。强类型语言一般不允许这么做

#### 类型转换

类型转换（英语：type conversion）是指将数据从一种类型转换到另一种类型的过程。一个简单的例子是将整数转换成浮点数。

类型转换具有两种形式：`显式类型转换和隐式类型转换。`

显示类型转换指利用强制类型转换运算符手动进行转换，又称为强制类型转换。

隐式类型转换指数据的类型的转换通常是由编译系统自动进行的，不需要人工干预，又称为自动类型转换。

## 各类型语言代表

无类型： 汇编
静态类型、弱类型 ： C / C++
静态类型、强类型 ：Java / C# / Golang
动态类型、弱类型 ： Perl / PHP
动态类型、强类型 ：Python / Scheme
静态显式类型 ：Java / C
静态隐式类型 ：Ocaml / Haskell


![type](http://ph79l2ejl.bkt.clouddn.com/type.jpg)